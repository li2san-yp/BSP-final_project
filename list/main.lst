C51 COMPILER V9.60.7.0   MAIN                                                              09/14/2025 20:58:18 PAGE 1   


C51 COMPILER V9.60.7.0, COMPILATION OF MODULE MAIN
OBJECT MODULE PLACED IN .\output\main.obj
COMPILER INVOKED BY: D:\Keil_v5\C51\BIN\C51.EXE source\main.c OPTIMIZE(8,SPEED) BROWSE INCDIR(.\inc) DEBUG OBJECTEXTEND 
                    -PRINT(.\list\main.lst) TABS(2) OBJECT(.\output\main.obj)

line level    source

   1          #include "STC15F2K60S2.H"  //���룬"STC-Bѧϰ��"ʹ��MCUָ����ͷ�ļ�
   2          #include "sys.H"           //���룬sys��MySTC_OS���ȳ���ͷ�ļ�
   3          #include "displayer.H"     //��ѡ��display����ʾģ�飩ͷ�ļ���
   4          #include "key.H"           //��ѡ��key������ģ�飩ͷ�ļ���
   5          #include "IR.h"            //��ѡ��38KHz����ͨ��
   6          #include "Vib.h"           //��ѡ��Vib���񶯴�����ģ�飩ͷ�ļ���
   7          #include "adc.h"           //��ѡ��adc��������������������
             -������չ�ӿ�ADC��ͷ�ļ�
   8          #include "beep.H"          //��ѡ��beep��������ģ�飩ͷ�ļ���
   9          #include "hall.H"          //��ѡ��hall������������ģ�飩ͷ�ļ��
             -
  10          #include "music.h"         //��ѡ��music�����ֲ��ţ�ͷ�ļ���
  11          #include "stepmotor.h"     //��ѡ���������
  12          #include "uart1.h"         //��ѡ��uart1������1ͨ�ţ�ͷ�ļ���
  13          #include "uart2.h"         //��ѡ��uart2������2ͨ�ţ�ͷ�ļ���
  14          #include "Nav_handler.h"   // 导航键处理模块头文件
  15          #include "rtc_module.h"
  16          #include "voice_module.h" // 语音模块头文件
  17          
  18          
  19          code unsigned long SysClock = 11059200;  // ���롣����ϵͳ����ʱ��Ƶ��(Hz)
             -��û������޸ĳ���ʵ�ʹ���Ƶ�ʣ�����ʱѡ��ģ�һ��
  20          #ifdef _displayer_H_                     // ��ʾģ��ѡ��ʱ���롣��������
             -�ʾ��������Ñ����޸ġ����ӵȣ�
  21          code char decode_table[] = {
  22              // [0]-[9] ����
  23              0x3f, 0x06, 0x5b, 0x4f, 0x66,
  24              0x6d, 0x7d, 0x07, 0x7f, 0x6f,
  25          
  26              0x00,  // ��- index = 10
  27              0x08,  // ��- index = 11
  28              0x40,  // ��- index = 12
  29              0x01,  // ��- index = 13
  30              0x41,  // ����- index = 14
  31              0x48,  // ����- index = 15
  32          
  33              // [16]-[25] ��С���������
  34              0x3f | 0x80, 0x06 | 0x80, 0x5b | 0x80, 0x4f | 0x80, 0x66 | 0x80, 0x6d | 0x80, 0x7d | 0x80, 0x07 | 0x80
             -, 0x7f | 0x80, 0x6f | 0x80,
  35              // 'A' (��д A)��index = 26
  36              0x77,
  37              // 'B' (��д B)��index = 27
  38              0x7f,
  39              // 'C' (��д C)��index = 28
  40              0x39,
  41              // 'D' (��д D)��index = 29
  42              0x3f,
  43              // 'E' (��д E)��index = 30
  44              0x79,
  45              // 'F' (��д F)��index = 31
  46              0x71,
  47              // 'G' (��д G)��index = 32
  48              0x7D,
  49              // 'H' (��д H)��index = 33
C51 COMPILER V9.60.7.0   MAIN                                                              09/14/2025 20:58:18 PAGE 2   

  50              0x76,
  51              // 'I' (��д I)��index = 34
  52              0x06,
  53              // 'J' (��д J)��index = 35
  54              0x1E,
  55              // 'L' (��д L)��index = 36
  56              0x38,
  57              // 'O' (��д O)��index = 37
  58              0x3F,
  59              // 'P' (��д P)��index = 38
  60              0x73,
  61              // 'S' (��д S)��index = 39
  62              0x6D,
  63              // 'U' (��д U)��index = 40
  64              0x3E,
  65              // 'Y' (��д Y)��index = 41
  66              0x6E,
  67          
  68              // 'a' (Сд a)��index = 42
  69              0x5F,
  70              // 'b' (Сд b)��index = 43
  71              0x7C,
  72              // 'c' (Сд c)��index = 44
  73              0x58,
  74              // 'd' (Сд d)��index = 45
  75              0x5E,
  76              // 'e' (Сд e)��index = 46
  77              0x7B,
  78              // 'f' (Сд f)��index = 47
  79              0x71,
  80              // 'g' (Сд g)��index = 48
  81              0x6F,
  82              // 'h' (Сд h)��index = 49
  83              0x74,
  84              // 'i' (Сд i)��index = 50
  85              0x10,
  86              // 'l' (Сд l)��index = 51
  87              0x38,
  88              // 'n' (Сд n)��index = 52
  89              0x54,
  90              // 'o' (Сд o)��index = 53
  91              0x5C,
  92              // 'p' (Сд p)��index = 54
  93              0x73,
  94              // 'q' (Сд q)��index = 55
  95              0x67,
  96              // 'r' (Сд r)��index = 56
  97              0x50,
  98              // 's' (Сд s)��index = 57
  99              0x6D,
 100              // 't' (Сд t)��index = 58
 101              0x78,
 102              // 'u' (Сд u)��index = 59
 103              0x1C,
 104              // 'y' (Сд y)��index = 60
 105              0x6E};
 106          
 107          #endif    
 108          
 109          void main() {
 110   1        AdcInit(ADCincEXT);         //ģ��ת��ADCģ�����������¶ȡ����ա�
             -���������밴��Key3��EXT��չ�ӿ��ϵ�ADC��
C51 COMPILER V9.60.7.0   MAIN                                                              09/14/2025 20:58:18 PAGE 3   

 111   1        DisplayerInit();      //��ʾģ������ 
 112   1        KeyInit();           //����ģ������
 113   1        //BeepInit();       //������ģ������
 114   1        //MusicPlayerInit();    //������������������
 115   1        //HallInit();          //����������ģ������                      
 116   1        //VibInit();          //�񶯴�����ģ������  
 117   1        //StepMotorInit();    //�������ģ������                   
 118   1          // IrInit(NEC_R05d);         //38KHz����ͨ��ģ������
 119   1          SetDisplayerArea(0, 7);
 120   1          Uart2Init(2400, Uart2UsedforEXT); 
 121   1          SetUart2Rxd(&Uart2RxBuf, 1, &Uart2RxBuf,0);
 122   1          SetEventCallBack(enumEventNav, NavHandler);
 123   1        SetEventCallBack(enumEventSys1S, ShowStatus);
 124   1          //SetEventCallBack(enumEventKey, KeyHandler);
 125   1        MySTC_Init(); // ϵͳ��ʼ�������롣
 126   1          while (1) {
 127   2              MySTC_OS();
 128   2          }
 129   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =     85    ----
   CONSTANT SIZE    =     65    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
